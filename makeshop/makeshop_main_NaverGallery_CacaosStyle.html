/*===============================================================================
- shopType:makeshop
- 메인 상품 네이버 갤러리 카카오스타일
- 적용방법
  1. [data-category="025"],[data-type="025],[data-category="025"] 에 카테고리 코드 동일하게 적용
=================================================================================*/


	<div id="naverStyleList001" >
		<div class="naverStyleNav_tab">
			<ul class="main_tap">
				<li class="naverTap_over" data-category="001" onclick=""><span>TOP</span></li>  
				<li data-category="002" onclick=""><span>BOTTOM</span></li> 
				<li data-category="003" onclick=""><span>KINT</span></li>	
				<li data-category="004" onclick=""><span>OUTER</span></li>	
			</ul> 
		</div>
		<div class="naverStyleNav_tab_indicator">
			<ul class="indicator">

			</ul> 
		</div>
		<div id="naverStyleMainPrd" class="m-carousel m-fluid m-carousel-photos">
			<div id="naverStyle-MainPrd-inner" class="m-carousel-inner" style="-webkit-transform: translate3d(0px, 0, 0);">
				<div class="xans-element-xans-product xans-product-listnormal mPrdList" data-type="001">
				<!--/loop_category_product_001/-->
					<ul class="smartskinCacaoStyle" onclick="document.location='<!--/category_product_001@link/-->'">
						<li>
							<div data-src='<!--/category_product_001@image_l/-->'></div>
						</li>
					</ul>
				<!--/end_loop/-->
				</div> 
				<div class="xans-element-xans-product xans-product-listnormal mPrdList" data-type="002">
				<!--/loop_category_product_002/-->
					<ul class="smartskinCacaoStyle" onclick="document.location='<!--/category_product_002@link/-->'">
						<li>
							<div data-src='<!--/category_product_002@image_l/-->'></div>
						</li>
					</ul>
				<!--/end_loop/-->
				</div>	
				<div class="xans-element-xans-product xans-product-listnormal mPrdList" data-type="003">
				<!--/loop_category_product_003/-->
					<ul class="smartskinCacaoStyle" onclick="document.location='<!--/category_product_003@link/-->'">
						<li>
							<div data-src='<!--/category_product_003@image_l/-->'></div>
						</li>
					</ul>
				<!--/end_loop/-->
				</div>
				<div class="xans-element-xans-product xans-product-listnormal mPrdList" data-type="004">
				<!--/loop_category_product_004/-->
					<ul class="smartskinCacaoStyle" onclick="document.location='<!--/category_product_004@link/-->'">
						<li>
							<div data-src='<!--/category_product_004@image_l/-->'></div>
						</li>
					</ul>
				<!--/end_loop/-->
				</div>
			</div>
			<div id="naverStyleMainPrd-btn" class="m-carousel-controls m-carousel-bulleted">
			</div>
		</div>	
		
		<div class="SMS_BottomModule_09"> <!-- 스마트뷰 BottomModule_09 -->
			<div class="container_Box cb_clear container">
				<div class="body">
					<ul>
						<li><span onclick="location.href='#top'">더보기</span></li>
					</ul>
				</div>
			</div>
		</div>
	</div>





/*=====================================================================================================
- CSS
=====================================================================================================*/


/*메인 상품 네이버  카카오스타일 갤러리 css 시작
============================================*/

.naverStyleNav_tab {
padding:10px 0 0; 
overflow:hidden;
background:none;
font-size:12px;
text-align:center;
white-space:nowrap;
line-height:0px;
}

.naverStyleNav_tab .main_tap{
display:inline-block;
width:100%;
}


.naverStyleNav_tab li {
float:left;
overflow:hidden;
font-family: 'Doppio One', sans-serif;
white-space:nowrap;
text-overflow:ellipsis;
height:30px;
line-height:30px;
letter-spacing:-1px;
color:#fff;
width:25%;
background: #373737;
}
.naverStyleNav_tab li  span{
display:block;
width:100%;
}

.naverTap_over {
height:30px !important;
font-weight:bold;
color:#fff; 
border-left:none;
border-right:none;
background:#C05074 !important;
}

#naverStyle-MainPrd-inner .smartskinCacaoStyle .img { 
min-height:100px;
}




#naverStyle-MainPrd-inner {
padding:0;
}

#naverStyle-MainPrd-inner .mPrdList {
display:inline-table;
padding:0px;
}

#naverStyle-MainPrd-inner .smartskinCacaoStyle {
display:inline-block;
width:33.33%;
border:0;
float:left;
height:175px;
padding:3px;
box-sizing:border-box;
}

#naverStyle-MainPrd-inner .smartskinCacaoStyle li{
width:inline-block;
width:100%;
height:100%;
}

#naverStyle-MainPrd-inner .smartskinCacaoStyle div{
width:100%;
height:100%;
}

#naverStyle-MainPrd-inner .smartskinCacaoStyle img {
width:100%;
} 


#naverStyle-MainPrd-inner .m-carousel-controls {
position:static;
margin:8px 0 0;
}

#naverStyle-MainPrd-inner .pname {
height:35px;
line-height: 15px;
overflow:hidden;
/*text-overflow:ellipsis;*/
font-size:12px;
font-weight:normal;
text-align:center;
color:#585858;
margin:3px 0px;
}

#naverStyle-MainPrd-inner .price {
height:18px;
font-weight:bold;
color:#666;
text-align:center;
margin:0 0 3px;
font-size:12px;
}

/*메인 상품 네이버  카카오스타일 css 끝
============================================*/



/*=====================================================================================================
- 자바스크립트 
- 더보기 기능 유무 여부 확인
=====================================================================================================*/

/*메인 상품 네이버 갤러리 기본 javascript 시작 
==============================================================*/

$(document).ready(function(){
	/* 네이버 갤러리 best */
	if($("#naverStyleList001").length){
		/*  naverStyleCategoryProduct(id값,limit,'':실제 링크 카테고리 코드번호','로 구분,한화면에 보여지는 최대 갯수 ) */
		naverStyleCategoryCacaoStyleProduct("naverStyleList001",6,'',6);
	}
});
	
function naverStyleCategoryCacaoStyleProduct(id,limit,link_cate,totalLimit){
	var _this=$("#"+id);
	if(_this.length){
		var btn_index=0;
		var btn_html="";
		var html="";
		var tab_html="";
		var link_cateArr=link_cate.split(",");
		var tab_total=0;
		
		
		_this.find(".mPrdList").each(function(depth){
			var cate_no=$(this).attr('data-type');
			var total=$(this).find("ul").length;
			if(totalLimit && total>totalLimit){
				total=totalLimit;
			}else{
				totalLimit=total;
			}
			var index=0;
			var more_index=1;
			btn_index++;
			tab_total++;
			var link_cateNo=link_cateArr[depth];

			
			_this.find(".naverStyleNav_tab li").eq(depth).attr("onclick",'naverStyleNav_tab("'+id+'",'+btn_index+')');
			
		var currentLimit=limit;
			$(this).find("ul").each(function(key){
				if(key<totalLimit){
					var ul=$(this).html();
					var link=$(this).attr("onclick");
					if(!key){
						html+='<div class="xans-element-xans-product xans-product-listnormal mPrdList m-item" data-type="'+cate_no+'" index="0" >';
						btn_html+='<a href="#" data-slide="'+btn_index+'"  data-category="'+cate_no+'" index="0"  linkCate="'+link_cateNo+'">'+btn_index+'</a>';
						tab_html+='<li data-category="'+cate_no+'"><a href="javascript:naverStyleNav_tab(\''+id+'\','+btn_index+');"></a>';
					}
					
					if(key==currentLimit-1){
						html+='<ul class="smartskinCacaoStyle" onclick="'+link+'" >';
						html+=$(this).html();
						html+="</ul>";
						html+="</div>";

						if(key<total-1){
							index++;
							html+='<div class="xans-element-xans-product xans-product-listnormal mPrdList m-item" data-type="'+cate_no+'" index="'+index+'">';
							btn_index++;
							btn_html+='<a href="#" data-slide="'+btn_index+'"  data-category="'+cate_no+'" index="'+index+'" linkCate="'+link_cateNo+'" >'+btn_index+'</a>';
							tab_html+='<a href="javascript:naverStyleNav_tab(\''+id+'\','+btn_index+');"></a>';
						}
						
						more_index++;
						currentLimit=limit*more_index;
					}else if(key<currentLimit){
						html+='<ul class="smartskinCacaoStyle" onclick="'+link+'" >';
						html+=$(this).html();
						html+="</ul>";
						if(key==total-1){
							html+="</div>";
							tab_html+='</li>';
						}
					}
				}
			});
		});
		
		$("#"+id+" .m-carousel-inner").html(html);
		$("#"+id+" .m-carousel-controls").html(btn_html); 
		$("#"+id+" .naverStyleNav_tab_indicator .indicator").html(tab_html); 
		
		_this.find(".m-carousel-controls a").eq(0).addClass("m-active");
		var width=Math.round((100/tab_total)*100)/100+"%";
		_this.find(".naverStyleNav_tab li").css("width",width);
		_this.find(".naverStyleNav_tab_indicator .indicator li").css("width",width);
		_this.find(".naverStyleNav_tab_indicator .indicator li a").eq(0).addClass("m-active");
		_this.find(".naverStyleNav_tab_indicator .indicator li:nth-child(1) a").css("display","inline-block");
		_this.find(".SMS_BottomModule_09 .body ul li span").attr("onclick",'location.href="/m/product_list.html?xcode='+link_cateArr[0]+'" ');
		
		$("#"+id+" .m-carousel-inner .smartskinCacaoStyle li").find("div").each(function(i){
				var data_src=$(this).attr("data-src");
				$(this).attr("data-src","");
				$(this).css("background","url('"+data_src+"')");
				$(this).css("background-position","center");
				$(this).css("background-size","120%");
				$(this).css("background-repeat","no-repeat");
		});
		
		$("#"+id+" .m-carousel-inner .mPrdList").each(function(){
			$(this).find(".smartskinCacaoStyle").each(function(i){
				if(i==0 || i==6){
					$(this).css('width','66.66%');
					$(this).css('height','350px');
				}
			});
		});
		
		
		$("#"+id).carousel({
			auto:true,
			duration:5000
		});
	}
}

function naverStyleNav_tab(id,index){
Mobify.$('#'+id).carousel("move",index);
}



/*메인 상품 네이버 갤러리 기본 javascript 끝 
==============================================================*/


/*메인 상품 네이버 갤러리&더보기 기능 javascript 시작 
==============================================================*/
$(document).ready(function(){
	if($("#naverStyleList_more").length){
		
		smartskinNaverMainDisplayLazyLoading_more();
		
			$(".smartSkinmainDisplayMorebtn").on("click",function(){
				var total=$(this).parent().find("#smartSkinmainDisplayMorePrd").length;
				
				if(total){
					$(this).parent().find("#smartSkinmainDisplayMorePrd").eq(0).find(".MS_prod_img_s").each(function(){
						var data_src=$(this).attr("data-src");
						$(this).attr("data-src","");
						if(data_src)
							$(this).attr("src",data_src);
					});
					$(this).parent().find("#smartSkinmainDisplayMorePrd").eq(0).show();
					$(this).parent().find("#smartSkinmainDisplayMorePrd").eq(0).attr("id","morePrd");
					
				}
				
				if(total==1)
					$(this).hide();
			});
		
	}
});

function smartskinNaverMainDisplayLazyLoading_more(){
	var mainDiv=$("#naverStyleList_more #naverStyle-MainPrd-inner");
	if(mainDiv){
		var html='';
		
		$(mainDiv).find(".mPrdList").each(function(){
			var type=$(this).attr("data-type");
			var total=$(this).find("ul").length;
			var more_index=1;
			var limit=6;
			var currentLimit=limit;
			$(this).find("ul").each(function(key){
				var ul=$(this).html();
				var onclick=$(this).attr("onclick");
				if(!key){
					html+='<div class="xans-element-xans-product xans-product-listnormal mPrdList" data-type='+type+'>';
					html+='<div class="prdList">';
				}
				
				if(key==currentLimit-1){
					html+='<ul class="grid" onclick="'+onclick+'">'+ul+"</ul>";
					html+="</div>";
					
					if(key<total-1){
						html+='<div id="smartSkinmainDisplayMorePrd" style="display:none">';
					}
					
					more_index++;
					currentLimit=limit*more_index;
				}else if(key<currentLimit){
					html+='<ul class="grid" onclick="'+onclick+'">'+ul+"</ul>";
					if(key==total-1){
						html+="</div>";
					}
				}
			});
			html+='<div class="smartSkinmainDisplayMorebtn"><span>더보기</span></div>';
			html+="</div>";
		});
		

		$("#naverStyle-MainPrd-inner").html(html);
		$("#naverStyle-MainPrd-inner").find(".mPrdList").each(function(){
			$(this).find(".MS_prod_img_s").each(function(i){
				if(i<6){
					var data_src=$(this).attr("data-src");
					$(this).attr("data-src","");
					$(this).attr("src",data_src);
				}
			});
		});
		
		$("#naverStyle-MainPrd-inner").show();
		$('#naverStyleMainPrd').carousel();
		var len=$("#naverStyleMain_tap li").length;
		var naver_width=Math.round((100/len)*100)/100+"%";
		$("#naverStyleMain_tap li").css("width",naver_width);
		
	}
}

function naverStyleMainPrdMove(index){
Mobify.$('#naverStyleMainPrd').carousel("move",index);
}

/*메인 상품 네이버 갤러리&더보기 기능 javascript 끝 
==============================================================*/

      
	  
/*============================================================
- 상품 갤러리 이동시 펼쳐진 더보기 초기화 스크립트 
- 기본에 적용되어있음 참고용
==============================================================*/
		//적용하지 않아도 됩니다!!!!
		/*var cate_no='';
		$element.parent().find("#naverStyleMainPrd-btn").each(function(){
			cate_no=$(this).find(".m-active").attr('tab_cate_no');
		});

		if(cate_no){
			var mainTab=document.getElementById('naverStyleMain_tap');
			var len=mainTab.children.length;
			
			for(var i=0; i<len; i++){
				mainTab.children[i].className="";
				if(mainTab.children[i].getAttribute('data-category')==cate_no){
					mainTab.children[i].className="naverTap_over";
				}
			}
			
			//더보기 접기
			$element.find(".mPrdList").each(function(){
				$(this).find("#morePrd").each(function(){
					$(this).attr("id","smartSkinmainDisplayMorePrd");
					$(this).hide();
				});
				
				$(this).find(".smartSkinmainDisplayMorebtn").show();
			});
		}*/
